<!doctype html>

<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1">
<link rel="alternate"  href="http://dustinfarris.com/feeds/all.atom.xml" type="application/atom+xml" title="Dustin Farris Full Atom Feed">
<title>"Django + Typography = django-typogrify"</title>
<script>
WebFontConfig = {
google: { families: [ 'Dosis:600:latin', 'Open+Sans:400italic,400,700:latin' ] }
};
(function() {
 var wf = document.createElement('script');
 wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
 '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
 wf.type = 'text/javascript';
 wf.async = 'true';
 var s = document.getElementsByTagName('script')[0];
 s.parentNode.insertBefore(wf, s);
 })();
</script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
<link rel="stylesheet" href="http://dustinfarris.com/theme/css/pure.css"><link rel="stylesheet" href="http://dustinfarris.com/theme/css/pygments.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta
name="description"
content="Dustin Farris">
<link href="http://dustinfarris.com/humans.txt" rel="author">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
<div class="pure-g-r" id="layout">
<div class="sidebar pure-u">
  <div class="cover-img" style="background-image: url('http://dustinfarris.com/images/beach.jpg')">
    <div class="cover-body">
      <header class="header">
        <hgroup>
        <a href="http://dustinfarris.com">
          <img class="avatar" src="http://dustinfarris.com/images/dustin.jpeg">
        </a>
        <h1 class="brand-main"><a href="http://dustinfarris.com">Dustin Farris</a></h1>
        <p class="tagline">inveniam viam aut faciam</p>
        <p class="social">
        <a href="https://github.com/dustinfarris/">
          <i class="fa fa-github fa-3x"></i>
        </a>
        <a href="https://twitter.com/dustinfarris">
          <i class="fa fa-twitter fa-3x"></i>
        </a>
        <a href="/feeds/all.atom.xml">
          <i class="fa fa-rss fa-3x"></i>
        </a>
        </p>
        </hgroup>
      </header>
    </div>
  </div>
</div><div class="pure-u">
  <div class="content">
    <article
      class="post"
      role="main"
      itemscope
      itemprop="mainContentOfPage"
      itemtype="http://schema.org/BlogPosting">
      <header class="post-header">
        <h1 itemprop="name">"Django + Typography = django-typogrify"</h1>
        <div class="lead" itemprop="description"><p>Something I've put off dealing with (until today) is typography.  As a little bit of history: the typewriter forced us to sacrifice certain printed media standards because of its monospaced font.  Things like double-spacing between sentences and using straight quotes can be considered typewriter-era "hacks" so this portable machine ...</p></div>
      </header>
      <footer>
        <p class="post-meta">
        <a class="post-tag" href="http://dustinfarris.com/tag/django.html">Django</a>
        </p>
      </footer>
      <div itemprop="articleBody">
        <p>Something I've put off dealing with (until today) is typography.  As a little bit of history: the typewriter forced us to sacrifice certain printed media standards because of its monospaced font.  Things like double-spacing between sentences and using straight quotes can be considered typewriter-era "hacks" so this portable machine could sort of mimic what the printing presses were doing.</p>
<p>Well a lot of these hacks have become habitual and, for some, even typing "law"--how many people know there should only be <a href="http://en.wikipedia.org/wiki/Sentence_spacing">one space</a> between sentences?  Well, thanks to the advancement of technology, we can break these habits and return to the glory days of beautiful text.</p>
<p>In Django, this means server-side substitution.  Since there are not separate open-quotes/close-quotes keys on my keyboard, and especially since I use <a href="http://dustinfarris.com/2012/5/goodbye-tinymce/">markdown</a> to draft my writings, something needs to process the text and make the appropriate replacements.  Enter <a href="https://github.com/chrisdrackett/django-typogrify/">django-typogrify</a>.</p>
<p>django-typogrify with the help of a <a href="http://daringfireball.net/projects/smartypants/">smartypants</a> Python port does a lot, most significantly:</p>
<ul>
<li>Converts straight quotes to "curly" quotes</li>
<li>Converts three dots into ellipsis</li>
<li>Converts dashes into hyphens, en dashes, and em dashes</li>
<li>Prevents "widowed" one-word lines as a result of word wrapping</li>
</ul>
<p>It does a lot more than that, but those are the main points I'm using.  I had a small caveat because I usually write my em dashes as " -- ".  Note the surrounding spaces.  I've learned that this is actually bad grammar; there should be no spaces when writing an em dash.  Thankfully, Django and Python make this an easy fix:</p>
<div class="highlight"><pre>  <span class="kn">from</span> <span class="nn">blog.models</span> <span class="kn">import</span> <span class="n">Entry</span>
  <span class="kn">import</span> <span class="nn">re</span>

  <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">Entry</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
      <span class="n">e</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r&#39;(\w) -- (\w)&#39;</span><span class="p">,</span> <span class="s">r&#39;\1--\2&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
      <span class="n">e</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>


<p>There is plenty more typography work to do here.  django-typogrify does a lot of class-wrapping for various grammatical entities which need to be styled.  I also need to take a look at my font choices from a "big picture" point of view and determine if they are working well together.  Smashing Magazine plenty of <a href="http://www.smashingmagazine.com/tag/typography/">material</a> on that.  All in all, though, django-typogrify has given my blog a nice kick in the typographic pants.</p>
      </div>
    </article>
    <a href="#" class="go-top">&uparrow;</a>
    <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = "dustinfarris"; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
<footer class="footer">
  <p>&copy; Dustin Farris</p>
</footer>  </div>
</div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script>
var $top = $('.go-top');

// Show or hide the sticky footer button
$(window).scroll(function() {
    if ($(this).scrollTop() > 200) {
    $top.fadeIn(200);
    } else {
    $top.fadeOut(200);
    }
    });

// Animate the scroll to top
$top.click(function(event) {
    event.preventDefault();
    $('html, body').animate({scrollTop: 0}, 300);
    })

// Makes sure that the href="#" attached to the <a> elements
// don't scroll you back up the page.
$('body').on('click', 'a[href="#"]', function(event) {
    event.preventDefault();
    });
</script><script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js">
</script>
<script>
$(document).ready(function(){
  $(".content").fitVids();
});
</script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-13275015-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>

</body>

</html>