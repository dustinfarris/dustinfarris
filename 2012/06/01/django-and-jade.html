<!doctype html>

<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1">
<link rel="alternate"  href="http://dustinfarris.com/feeds/all.atom.xml" type="application/atom+xml" title="Dustin Farris Full Atom Feed">
<title>"Django and Jade"</title>
<script>
WebFontConfig = {
google: { families: [ 'Dosis:600:latin', 'Open+Sans:400italic,400,700:latin' ] }
};
(function() {
 var wf = document.createElement('script');
 wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
 '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
 wf.type = 'text/javascript';
 wf.async = 'true';
 var s = document.getElementsByTagName('script')[0];
 s.parentNode.insertBefore(wf, s);
 })();
</script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
<link rel="stylesheet" href="http://dustinfarris.com/theme/css/pure.css"><link rel="stylesheet" href="http://dustinfarris.com/theme/css/pygments.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta
name="description"
content="Dustin Farris">
<link href="http://dustinfarris.com/humans.txt" rel="author">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
<div class="pure-g-r" id="layout">
<div class="sidebar pure-u">
  <div class="cover-img" style="background-image: url('http://dustinfarris.com/images/beach.jpg')">
    <div class="cover-body">
      <header class="header">
        <hgroup>
        <a href="http://dustinfarris.com">
          <img class="avatar" src="http://dustinfarris.com/images/dustin.jpeg">
        </a>
        <h1 class="brand-main"><a href="http://dustinfarris.com">Dustin Farris</a></h1>
        <p class="tagline">inveniam viam aut faciam</p>
        <p class="social">
        <a href="https://github.com/dustinfarris/">
          <i class="fa fa-github fa-3x"></i>
        </a>
        <a href="https://twitter.com/dustinfarris">
          <i class="fa fa-twitter fa-3x"></i>
        </a>
        <a href="/feeds/all.atom.xml">
          <i class="fa fa-rss fa-3x"></i>
        </a>
        </p>
        </hgroup>
      </header>
    </div>
  </div>
</div><div class="pure-u">
  <div class="content">
    <article
      class="post"
      role="main"
      itemscope
      itemprop="mainContentOfPage"
      itemtype="http://schema.org/BlogPosting">
      <header class="post-header">
        <h1 itemprop="name">"Django and Jade"</h1>
        <div class="lead" itemprop="description"><p>This week I made an important addition to my tool kit.  In the past I've focused primarily on ways to streamline backend development using tools like django_compressor, Sentry, and Fabric.  More recently, however, I've taken a turn and began focusing on ways to bring my frontend up to ...</p></div>
      </header>
      <footer>
        <p class="post-meta">
        <a class="post-tag" href="http://dustinfarris.com/tag/django.html">Django</a>
        </p>
      </footer>
      <div itemprop="articleBody">
        <p>This week I made an important addition to my tool kit.  In the past I've focused primarily on ways to streamline backend development using tools like django_compressor, Sentry, and Fabric.  More recently, however, I've taken a turn and began focusing on ways to bring my frontend up to speed.</p>
<p>My initial focus was on incorporating new tools and resources like SASS, HTML5, Markdown and microdata (blog posts to follow).  I'd like to focus here, though, on my latest addition, Jade.</p>
<p><a href="http://jade-lang.com/">Jade</a> is a HTML preprocessor that dramatically reduces the bloat and messiness of your code.  It uses indented syntax(hey, kind of like Python!) and is extremely easy to learn.  Also, thanks to some terrific work by <a href="https://github.com/SyrusAkbary/pyjade">Syrus Akbary</a> who ported Jade to Python, it integrates easily with Django.</p>
<p>To get the full experience you will need PyJade by Syrus, and the Python Markdown library (if you plan to use Markdown, which I highly recommend).  Both are available on PyPi.</p>
<div class="highlight"><pre>pip install Markdown
pip install pyjade
</pre></div>


<p>Install pygments also if you plan on publishing code--see my post on <a href="http://dustinfarris.com/2012/5/goodbye-tinymce/">syntax highlighting</a> with Markdown.</p>
<p>Enabling Jade couldn't be easier.  PyJade comes with a Django "extension" which features a template loader.  The loader wraps your existing loaders.  This allows PyJade to do the Jade preprocessing first, before handing the template off to the usual suspects.  All it takes a simple modification to your settings.py <code>TEMPLATE_LOADERS</code> variable.</p>
<div class="highlight"><pre>    <span class="n">TEMPLATE_LOADERS</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="s">&#39;pyjade.ext.django.Loader&#39;</span><span class="p">,</span> <span class="p">(</span>
            <span class="s">&#39;django.template.loaders.filesystem.Loader&#39;</span><span class="p">,</span>
            <span class="s">&#39;django.template.loaders.app_directories.Loader&#39;</span><span class="p">,</span>
            <span class="s">&#39;django.template.loaders.eggs.Loader&#39;</span><span class="p">,</span>
        <span class="p">)),</span>
    <span class="p">)</span>
</pre></div>


<p>With the loader in place, any '.jade' template you use in Django will be intercepted by PyJade and preprocessed.  Here is an example "base.jade":</p>
<p>{% raw %}</p>
<div class="highlight"><pre>    <span class="nn">!!! 5</span>
    <span class="nt">html</span>
        <span class="nt">head</span>
            <span class="nt">title</span>
                <span class="nt">block</span> title
                    | My Website
        <span class="nt">body</span>
            <span class="nt">header</span>
                <span class="nt">h1</span> My Website
                <span class="nt">nav</span>
                    <span class="nt">a</span>(<span class="na">href</span><span class="err">!=&#39;{%</span> <span class="na">url</span> <span class="na">home</span> <span class="err">%}&#39;</span>) Home
                    <span class="nt">a</span>(<span class="na">href</span><span class="err">!=&#39;{%</span> <span class="na">url</span> <span class="na">blog:index</span> <span class="err">%}&#39;</span>) Blog
                    <span class="nt">a</span>(<span class="na">href</span><span class="err">!=&#39;{%</span> <span class="na">url</span> <span class="na">about</span> <span class="err">%}&#39;</span>) About Me
            <span class="nf">#main</span>(<span class="na">role=</span><span class="s">&#39;main&#39;</span>)
                <span class="nt">block</span> content
                    <span class="nt">p</span> Welcome to my website
            <span class="nt">footer</span>
                <span class="nt">p</span> All content copyright by me.
</pre></div>


<p>{% endraw %}</p>
<p>Then I can do an about page.  First, in urls.py:</p>
<div class="highlight"><pre>    <span class="kn">from</span> <span class="nn">django.views.generic.simple</span> <span class="kn">import</span> <span class="n">direct_to_template</span>

    <span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="n">url</span><span class="p">(</span>
            <span class="s">r&#39;^about/$&#39;</span><span class="p">,</span>
            <span class="n">direct_to_template</span><span class="p">,</span>
            <span class="p">{</span><span class="s">&#39;template&#39;</span><span class="p">:</span> <span class="s">&#39;about.jade&#39;</span><span class="p">},</span>
            <span class="n">name</span><span class="o">=</span><span class="s">&#39;about&#39;</span>
        <span class="p">),</span>
        <span class="o">...</span>
</pre></div>


<p>And create about.jade which might look something like this:</p>
<div class="highlight"><pre>    <span class="nt">extends</span> base

    <span class="nt">block</span> title
        | About Me

    <span class="nt">block</span> content
        <span class="nt">article</span>
            <span class="nt">header</span>
                <span class="nt">h1</span> About Me
            <span class="nd">:markdown</span>
                <span class="nd">This is a page about me.  Be sure to check</span>
                <span class="nd">out my [Facebook Profile][1] where I post lots</span>
                <span class="nd">of crazy pictures!</span>

                <span class="nd">[1]: http://facebook.com/dustinfarris</span>
</pre></div>


<p>Because Jade is so easy to learn and use, the time investment really pays off.  I personally love how it feels sort of Pythonic with regards to indented syntax, and kicking out templates has certainly received a speed boost!</p>
      </div>
    </article>
    <a href="#" class="go-top">&uparrow;</a>
    <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = "dustinfarris"; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
<footer class="footer">
  <p>&copy; Dustin Farris</p>
</footer>  </div>
</div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script>
var $top = $('.go-top');

// Show or hide the sticky footer button
$(window).scroll(function() {
    if ($(this).scrollTop() > 200) {
    $top.fadeIn(200);
    } else {
    $top.fadeOut(200);
    }
    });

// Animate the scroll to top
$top.click(function(event) {
    event.preventDefault();
    $('html, body').animate({scrollTop: 0}, 300);
    })

// Makes sure that the href="#" attached to the <a> elements
// don't scroll you back up the page.
$('body').on('click', 'a[href="#"]', function(event) {
    event.preventDefault();
    });
</script><script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js">
</script>
<script>
$(document).ready(function(){
  $(".content").fitVids();
});
</script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-13275015-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>

</body>

</html>